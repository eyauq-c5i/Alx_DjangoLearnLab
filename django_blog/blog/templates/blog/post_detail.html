{% extends 'base.html' %}
{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="container mt-4">

  <article class="card shadow-sm">
    <div class="card-body">

      <!-- Title -->
      <h1 class="mb-1">{{ post.title }}</h1>

      <!-- Meta Info -->
      <p class="text-muted small">
        By <strong>{{ post.author.username }}</strong>
        •
        {% if post.published_date %}
          {{ post.published_date|date:"M d, Y H:i" }}
        {% else %}
          <em>Not published yet</em>
        {% endif %}
      </p>

      <!-- Content -->
      <div class="mt-3 content-body">
        {{ post.content|linebreaks }}
        {# or use |safe instead of |linebreaks if content contains HTML #}
      </div>

      <!-- Author Controls -->
      {% if user == post.author %}
        <div class="mt-4 d-flex gap-2">
          <a class="btn btn-sm btn-secondary" 
             href="{% url 'blog:post_update' post.pk %}">Edit</a>
          <a class="btn btn-sm btn-danger" 
             href="{% url 'blog:post_delete' post.pk %}">Delete</a>
        </div>
      {% endif %}

    </div>
  </article>

  <!-- Back link -->
  <div class="mt-3">
    <a class="btn btn-outline-primary" href="{% url 'blog:post_list' %}">
      ← Back to Posts
    </a>
  </div>

</div>
{% endblock %}
